import{a,b as e,c as t,d as r,t as o,e as s,f as l,P as n,g as i,h as c}from"./PVDMjZNP.js";import{C as d,k as u,a1 as g,P as y,ac as v,a2 as p,V as m,ab as h,O as x,Q as b,U as f,Z as w,M as k,aa as C,$ as _,a0 as D,J as L,ad as S,b as z,ai as j,aj as q,ak as $,a3 as O,c as M,T as E,w as F,D as B}from"./djRSGIuw.js";import{_ as I}from"./BCo6x5W8.js";const R={role:"banner",class:"sticky top-0 z-50 bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 shadow-sm"},V={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},A={class:"flex items-center justify-between"},T=d({__name:"AppHeader",setup(t){const r=a(),o=u((()=>"dark"===r.value));function s(){const a="dark"===r.value?"light":"dark";r.preference=a;{const e=document.documentElement,t=document.body;e.classList.remove("light","dark"),t.classList.remove("light","dark"),e.classList.add(a),t.classList.add(a),e.style.colorScheme=a,e.offsetHeight}}return(a,t)=>{const r=e;return y(),g("header",R,[v("div",V,[v("div",A,[t[0]||(t[0]=v("div",null,[v("h1",{class:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white tracking-tight"}," 🌍 Country Explorer "),v("p",{class:"mt-1 text-sm sm:text-base text-gray-600 dark:text-gray-400"}," Discover countries around the world ")],-1)),p(r,{icon:m(o)?"i-heroicons-sun":"i-heroicons-moon",size:"lg",class:"shrink-0 rounded-full transition-all duration-300 hover:scale-110 active:scale-95",color:"neutral",variant:"ghost","aria-label":m(o)?"Switch to light mode":"Switch to dark mode",onClick:s},null,8,["icon","aria-label"])])])])}}}),N={slots:{root:"relative overflow-hidden w-full rounded-lg p-4 flex gap-2.5",wrapper:"min-w-0 flex-1 flex flex-col",title:"text-sm font-medium",description:"text-sm opacity-90",icon:"shrink-0 size-5",avatar:"shrink-0",avatarSize:"2xl",actions:"flex flex-wrap gap-1.5 shrink-0",close:"p-0"},variants:{color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},variant:{solid:"",outline:"",soft:"",subtle:""},orientation:{horizontal:{root:"items-center",actions:"items-center"},vertical:{root:"items-start",actions:"items-start mt-2.5"}},title:{true:{description:"mt-1"}}},compoundVariants:[{color:"primary",variant:"solid",class:{root:"bg-primary text-inverted"}},{color:"secondary",variant:"solid",class:{root:"bg-secondary text-inverted"}},{color:"success",variant:"solid",class:{root:"bg-success text-inverted"}},{color:"info",variant:"solid",class:{root:"bg-info text-inverted"}},{color:"warning",variant:"solid",class:{root:"bg-warning text-inverted"}},{color:"error",variant:"solid",class:{root:"bg-error text-inverted"}},{color:"primary",variant:"outline",class:{root:"text-primary ring ring-inset ring-primary/25"}},{color:"secondary",variant:"outline",class:{root:"text-secondary ring ring-inset ring-secondary/25"}},{color:"success",variant:"outline",class:{root:"text-success ring ring-inset ring-success/25"}},{color:"info",variant:"outline",class:{root:"text-info ring ring-inset ring-info/25"}},{color:"warning",variant:"outline",class:{root:"text-warning ring ring-inset ring-warning/25"}},{color:"error",variant:"outline",class:{root:"text-error ring ring-inset ring-error/25"}},{color:"primary",variant:"soft",class:{root:"bg-primary/10 text-primary"}},{color:"secondary",variant:"soft",class:{root:"bg-secondary/10 text-secondary"}},{color:"success",variant:"soft",class:{root:"bg-success/10 text-success"}},{color:"info",variant:"soft",class:{root:"bg-info/10 text-info"}},{color:"warning",variant:"soft",class:{root:"bg-warning/10 text-warning"}},{color:"error",variant:"soft",class:{root:"bg-error/10 text-error"}},{color:"primary",variant:"subtle",class:{root:"bg-primary/10 text-primary ring ring-inset ring-primary/25"}},{color:"secondary",variant:"subtle",class:{root:"bg-secondary/10 text-secondary ring ring-inset ring-secondary/25"}},{color:"success",variant:"subtle",class:{root:"bg-success/10 text-success ring ring-inset ring-success/25"}},{color:"info",variant:"subtle",class:{root:"bg-info/10 text-info ring ring-inset ring-info/25"}},{color:"warning",variant:"subtle",class:{root:"bg-warning/10 text-warning ring ring-inset ring-warning/25"}},{color:"error",variant:"subtle",class:{root:"bg-error/10 text-error ring ring-inset ring-error/25"}},{color:"neutral",variant:"solid",class:{root:"text-inverted bg-inverted"}},{color:"neutral",variant:"outline",class:{root:"text-highlighted bg-default ring ring-inset ring-default"}},{color:"neutral",variant:"soft",class:{root:"text-highlighted bg-elevated/50"}},{color:"neutral",variant:"subtle",class:{root:"text-highlighted bg-elevated/50 ring ring-inset ring-accented"}}],defaultVariants:{color:"primary",variant:"solid"}},P={__name:"Alert",props:{as:{type:null,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},orientation:{type:null,required:!1,default:"vertical"},actions:{type:Array,required:!1},close:{type:[Boolean,Object],required:!1},closeIcon:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},emits:["update:open"],setup(a,{emit:i}){const c=a,d=i,p=h(),{t:z}=t(),j=r(),q=u((()=>{var a;return o({extend:o(N),...(null==(a=j.ui)?void 0:a.alert)||{}})({color:c.color,variant:c.variant,orientation:c.orientation,title:!!c.title||!!p.title})}));return(t,r)=>{var o;return y(),x(m(n),{as:a.as,"data-orientation":a.orientation,class:C(q.value.root({class:[null==(o=c.ui)?void 0:o.root,c.class]}))},{default:b((()=>{var o,n,i,u,h,b,$,O;return[f(t.$slots,"leading",{},(()=>{var e,t,r;return[a.avatar?(y(),x(s,k({key:0,size:(null==(e=c.ui)?void 0:e.avatarSize)||q.value.avatarSize()},a.avatar,{class:q.value.avatar({class:null==(t=c.ui)?void 0:t.avatar})}),null,16,["size","class"])):a.icon?(y(),x(l,{key:1,name:a.icon,class:C(q.value.icon({class:null==(r=c.ui)?void 0:r.icon}))},null,8,["name","class"])):w("",!0)]})),v("div",{class:C(q.value.wrapper({class:null==(o=c.ui)?void 0:o.wrapper}))},[a.title||p.title?(y(),g("div",{key:0,class:C(q.value.title({class:null==(n=c.ui)?void 0:n.title}))},[f(t.$slots,"title",{},(()=>[_(D(a.title),1)]))],2)):w("",!0),a.description||p.description?(y(),g("div",{key:1,class:C(q.value.description({class:null==(i=c.ui)?void 0:i.description}))},[f(t.$slots,"description",{},(()=>[_(D(a.description),1)]))],2)):w("",!0),"vertical"===a.orientation&&((null==(u=a.actions)?void 0:u.length)||p.actions)?(y(),g("div",{key:2,class:C(q.value.actions({class:null==(h=c.ui)?void 0:h.actions}))},[f(t.$slots,"actions",{},(()=>[(y(!0),g(L,null,S(a.actions,((a,t)=>(y(),x(e,k({key:t,size:"xs"},{ref_for:!0},a),null,16)))),128))]))],2)):w("",!0)],2),"horizontal"===a.orientation&&((null==(b=a.actions)?void 0:b.length)||p.actions)||a.close?(y(),g("div",{key:0,class:C(q.value.actions({class:null==($=c.ui)?void 0:$.actions,orientation:"horizontal"}))},["horizontal"===a.orientation&&((null==(O=a.actions)?void 0:O.length)||p.actions)?f(t.$slots,"actions",{key:0},(()=>[(y(!0),g(L,null,S(a.actions,((a,t)=>(y(),x(e,k({key:t,size:"xs"},{ref_for:!0},a),null,16)))),128))])):w("",!0),f(t.$slots,"close",{ui:q.value},(()=>{var t;return[a.close?(y(),x(e,k({key:0,icon:a.closeIcon||m(j).ui.icons.close,size:"md",color:"neutral",variant:"link","aria-label":m(z)("alert.close")},"object"==typeof a.close?a.close:{},{class:q.value.close({class:null==(t=c.ui)?void 0:t.close}),onClick:r[0]||(r[0]=a=>d("update:open",!1))}),null,16,["icon","aria-label","class"])):w("",!0)]}))],2)):w("",!0)]})),_:3},8,["as","data-orientation","class"])}}},H={class:"mb-12 lg:mb-16"},U={class:"max-w-2xl mx-auto"},J={class:"relative"},K={key:0,class:"relative"},Q={class:"relative group"},Z={class:"relative bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-lg hover:shadow-xl focus-within:shadow-xl transition-all duration-300 overflow-hidden backdrop-blur-sm"},G={class:"absolute left-5 top-1/2 transform -translate-y-1/2 z-10"},W={key:0,class:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-2xl backdrop-blur-sm z-50 max-h-80 overflow-hidden"},X={class:"px-4 py-3 border-b border-gray-100 dark:border-gray-700"},Y={class:"text-sm text-gray-500 dark:text-gray-400"},aa={class:"max-h-64 overflow-y-auto custom-scrollbar",role:"listbox","aria-label":"Country options"},ea=["aria-label","onClick"],ta={class:"text-gray-900 dark:text-white font-medium"},ra={class:"text-gray-400 dark:text-gray-500 text-sm ml-auto"},oa={key:0,class:"px-4 py-8 text-center"},sa={class:"text-gray-500 dark:text-gray-400 text-sm"},la={key:1,class:"space-y-4"},na={class:"flex items-center justify-center space-x-3 py-4"},ia={key:0,class:"mt-4 text-center"},ca={class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200"},da=I(d({__name:"CountrySearch",props:{countryOptions:{},selectedCountry:{},isLoading:{type:Boolean},errorMessage:{}},emits:["country-selected","retry","refresh"],setup(a,{emit:e}){const t=a,r=e,o=z(""),s=z(!1),n=u((()=>o.value?t.countryOptions.filter((a=>a.label.toLowerCase().includes(o.value.toLowerCase()))):t.countryOptions));function i(){o.value="",r("country-selected",""),s.value=!1}function c(){s.value=!s.value}function d(){s.value=!0}function h(){setTimeout((()=>{s.value=!1}),150)}return(a,e)=>{const t=l,u=P;return y(),g("div",H,[v("div",U,[v("div",J,[a.isLoading||a.errorMessage?w("",!0):(y(),g("div",K,[v("div",Q,[e[4]||(e[4]=v("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"},null,-1)),v("div",Z,[v("div",G,[p(t,{name:"i-heroicons-magnifying-glass",class:"w-5 h-5 text-gray-400 dark:text-gray-500 transition-colors duration-200"})]),j(v("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>M(o)?o.value=a:null),type:"text",placeholder:"Search for a country...",class:"w-full pl-14 pr-14 py-5 text-base sm:text-lg font-medium bg-transparent border-0 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-0",role:"combobox","aria-expanded":"false","aria-haspopup":"listbox","aria-label":"Search for a country","aria-describedby":"search-hint",onFocus:e[1]||(e[1]=a=>s.value=!0),onBlur:h,onInput:d,onKeydown:[e[2]||(e[2]=$((a=>s.value=!1),["escape"])),e[3]||(e[3]=$(O((a=>s.value=!0),["prevent"]),["arrow-down"]))]},null,544),[[q,m(o)]]),m(o)?(y(),g("button",{key:0,class:"absolute right-12 top-1/2 transform -translate-y-1/2 z-10 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200","aria-label":"Clear search",onClick:i},[p(t,{name:"i-heroicons-x-mark",class:"w-4 h-4 text-gray-400"})])):w("",!0),v("button",{class:"absolute right-4 top-1/2 transform -translate-y-1/2 z-10 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200","aria-label":"Toggle country dropdown",onClick:c},[p(t,{name:"i-heroicons-chevron-down",class:C(["w-5 h-5 text-gray-400 dark:text-gray-500 transition-all duration-200",m(s)?"rotate-180 text-blue-500":""])},null,8,["class"])])])]),p(E,{"enter-active-class":"transition-all duration-200 ease-out","enter-from-class":"opacity-0 transform scale-95 translate-y-2","enter-to-class":"opacity-100 transform scale-100 translate-y-0","leave-active-class":"transition-all duration-150 ease-in","leave-from-class":"opacity-100 transform scale-100 translate-y-0","leave-to-class":"opacity-0 transform scale-95 translate-y-2"},{default:b((()=>[m(s)&&m(n).length>0?(y(),g("div",W,[v("div",X,[v("p",Y,D(m(n).length)+" countries found ",1)]),v("div",aa,[(y(!0),g(L,null,S(m(n),(a=>(y(),g("button",{key:a.value,class:"w-full px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150 flex items-center space-x-3 group","aria-label":`Select ${a.label}`,onClick:e=>function(a){r("country-selected",a.value),o.value=a.label,s.value=!1}(a)},[e[5]||(e[5]=v("div",{class:"w-2 h-2 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200"},null,-1)),v("span",ta,D(a.label),1),v("span",ra,D(a.value),1)],8,ea)))),128))]),m(o)&&0===m(n).length?(y(),g("div",oa,[p(t,{name:"i-heroicons-magnifying-glass",class:"w-8 h-8 text-gray-300 dark:text-gray-600 mx-auto mb-2"}),v("p",sa,' No countries found for "'+D(m(o))+'" ',1)])):w("",!0)])):w("",!0)])),_:1}),e[6]||(e[6]=v("div",{class:"mt-3 text-center"},[v("p",{id:"search-hint",class:"text-sm text-gray-500 dark:text-gray-400"}," Type to search or click the arrow to browse all countries ")],-1))])),a.isLoading?(y(),g("div",la,[e[8]||(e[8]=v("div",{class:"h-[60px] bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-xl animate-pulse shadow-lg"},null,-1)),v("div",na,[p(t,{name:"i-heroicons-arrow-path",class:"w-5 h-5 animate-spin text-blue-500"}),e[7]||(e[7]=v("span",{class:"text-gray-600 dark:text-gray-400 font-medium"},"Loading countries...",-1))])])):w("",!0),p(E,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform translate-y-2","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform translate-y-2"},{default:b((()=>[a.errorMessage&&!a.isLoading?(y(),x(u,{key:0,icon:"i-heroicons-exclamation-triangle",color:"error",variant:"soft",title:"Failed to load countries",description:a.errorMessage,actions:[{variant:"solid",color:"error",label:"Retry",onClick:()=>a.$emit("retry")}],class:"mt-4 rounded-xl"},null,8,["description","actions"])):w("",!0)])),_:1})]),p(E,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform translate-y-2","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform translate-y-2"},{default:b((()=>[a.countryOptions.length>0?(y(),g("div",ia,[v("span",ca,[p(t,{name:"i-heroicons-globe-alt",class:"w-3 h-3 mr-1"}),_(" "+D(a.countryOptions.length)+" countries available ",1)])])):w("",!0)])),_:1})])])}}}),[["__scopeId","data-v-e4c8fd99"]]),ua={slots:{root:"rounded-lg",header:"p-4 sm:px-6",body:"p-4 sm:p-6",footer:"p-4 sm:px-6"},variants:{variant:{solid:{root:"bg-inverted text-inverted"},outline:{root:"bg-default ring ring-default divide-y divide-default"},soft:{root:"bg-elevated/50 divide-y divide-default"},subtle:{root:"bg-elevated/50 ring ring-default divide-y divide-default"}}},defaultVariants:{variant:"outline"}},ga={__name:"Card",props:{as:{type:null,required:!1},variant:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(a){const e=a,t=h(),s=r(),l=u((()=>{var a;return o({extend:o(ua),...(null==(a=s.ui)?void 0:a.card)||{}})({variant:e.variant})}));return(r,o)=>{var s;return y(),x(m(n),{as:a.as,class:C(l.value.root({class:[null==(s=e.ui)?void 0:s.root,e.class]}))},{default:b((()=>{var a,o,s;return[t.header?(y(),g("div",{key:0,class:C(l.value.header({class:null==(a=e.ui)?void 0:a.header}))},[f(r.$slots,"header")],2)):w("",!0),t.default?(y(),g("div",{key:1,class:C(l.value.body({class:null==(o=e.ui)?void 0:o.body}))},[f(r.$slots,"default")],2)):w("",!0),t.footer?(y(),g("div",{key:2,class:C(l.value.footer({class:null==(s=e.ui)?void 0:s.footer}))},[f(r.$slots,"footer")],2)):w("",!0)]})),_:3},8,["as","class"])}}},ya={key:0,class:"max-w-4xl mx-auto"},va={key:0,class:"p-8 sm:p-12"},pa={key:1,class:"p-8 sm:p-12"},ma={key:0,class:"p-8 sm:p-12"},ha={"aria-live":"polite",class:"sr-only"},xa={class:"text-center mb-10 sm:mb-12"},ba={class:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-6 sm:mb-8"},fa={class:"flex justify-center"},wa={class:"relative group"},ka={class:"grid gap-6 sm:gap-8 grid-cols-1 sm:grid-cols-2"},Ca={class:"bg-white dark:bg-gray-800 rounded-xl p-6 sm:p-8 border border-gray-100 dark:border-gray-700 shadow-sm shadow-gray-200/60 dark:shadow-gray-900/40 hover:bg-gray-50 dark:hover:bg-gray-750 hover:shadow-md hover:shadow-gray-300/50 dark:hover:shadow-black/30 hover:-translate-y-0.5 transition-all duration-300"},_a={class:"flex items-center space-x-3 mb-4"},Da={class:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center shadow-sm shadow-blue-600/30"},La={class:"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-white"},Sa={class:"bg-white dark:bg-gray-800 rounded-xl p-6 sm:p-8 border border-gray-100 dark:border-gray-700 shadow-sm shadow-gray-200/60 dark:shadow-gray-900/40 hover:bg-gray-50 dark:hover:bg-gray-750 hover:shadow-md hover:shadow-gray-300/50 dark:hover:shadow-black/30 hover:-translate-y-0.5 transition-all duration-300"},za={class:"flex items-center space-x-3 mb-4"},ja={class:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center shadow-sm shadow-green-600/30"},qa={class:"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-white"},$a={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-6 sm:p-8 border border-gray-100 dark:border-gray-700 shadow-sm shadow-gray-200/60 dark:shadow-gray-900/40 hover:bg-gray-50 dark:hover:bg-gray-750 hover:shadow-md hover:shadow-gray-300/50 dark:hover:shadow-black/30 hover:-translate-y-0.5 transition-all duration-300"},Oa={class:"flex items-center space-x-3 mb-4"},Ma={class:"w-10 h-10 bg-yellow-500 rounded-lg flex items-center justify-center shadow-sm shadow-yellow-600/30"},Ea={class:"space-y-1"},Fa={key:1,class:"bg-white dark:bg-gray-800 rounded-xl p-6 sm:p-8 border border-gray-100 dark:border-gray-700 shadow-sm shadow-gray-200/60 dark:shadow-gray-900/40 hover:bg-gray-50 dark:hover:bg-gray-750 hover:shadow-md hover:shadow-gray-300/50 dark:hover:shadow-black/30 hover:-translate-y-0.5 transition-all duration-300"},Ba={class:"flex items-center space-x-3 mb-4"},Ia={class:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center shadow-sm shadow-purple-600/30"},Ra={class:"space-y-1"},Va={class:"mt-10 text-center"},Aa=d({__name:"CountryDetails",props:{selectedCountry:{},countryDetail:{},isLoadingDetail:{type:Boolean},errorMessage:{}},emits:["retry","clear-selection"],setup:a=>(a,t)=>{const r=P,o=i,s=l,n=e,c=ga;return y(),x(E,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform translate-y-4","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform translate-y-4"},{default:b((()=>[a.selectedCountry?(y(),g("div",ya,[p(c,{class:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-2xl overflow-hidden shadow-lg shadow-gray-200/50 dark:shadow-gray-900/50 hover:shadow-xl hover:shadow-gray-300/60 dark:hover:shadow-black/30 transition-all duration-300"},{default:b((()=>[a.isLoadingDetail?(y(),g("div",va,t[1]||(t[1]=[v("div",{class:"flex items-center justify-center space-x-3 mb-8"},[v("div",{class:"w-6 h-6 border-2 border-gray-300 dark:border-gray-600 border-t-blue-500 rounded-full animate-spin"}),v("span",{class:"text-lg font-medium text-gray-600 dark:text-gray-400"},"Loading details...")],-1),v("div",{class:"space-y-4"},[v("div",{class:"h-6 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"}),v("div",{class:"h-6 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse w-3/4"}),v("div",{class:"h-6 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse w-1/2"})],-1)]))):a.errorMessage&&!a.isLoadingDetail?(y(),g("div",pa,[p(r,{icon:"i-heroicons-exclamation-triangle",color:"error",variant:"soft",title:"Failed to load country details",description:a.errorMessage,actions:[{variant:"solid",color:"error",label:"Retry",onClick:()=>a.$emit("retry")}],class:"rounded-xl"},null,8,["description","actions"])])):w("",!0),p(E,{"enter-active-class":"transition-all duration-400 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:b((()=>[a.countryDetail&&!a.isLoadingDetail?(y(),g("div",ma,[v("div",ha," Country details for "+D(a.countryDetail.name)+" have been loaded ",1),v("div",xa,[v("h2",ba,D(a.countryDetail.name),1),v("div",fa,[v("div",wa,[p(o,{src:a.countryDetail.flag,alt:`${a.countryDetail.name} flag`,class:"w-24 h-16 sm:w-32 sm:h-22 lg:w-40 lg:h-28 object-cover rounded-xl shadow-md shadow-gray-300/40 dark:shadow-gray-900/60 group-hover:shadow-lg group-hover:shadow-gray-400/50 dark:group-hover:shadow-black/40 transition-all duration-300",loading:"lazy"},null,8,["src","alt"]),t[2]||(t[2]=v("div",{class:"absolute inset-0 rounded-xl ring-1 ring-gray-200 dark:ring-gray-700"},null,-1))])])]),v("div",ka,[v("div",Ca,[v("div",_a,[v("div",Da,[p(s,{name:"i-heroicons-building-office-2",class:"w-5 h-5 text-white"})]),t[3]||(t[3]=v("h3",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide"}," Capital ",-1))]),v("p",La,D(a.countryDetail.capital.length>0?a.countryDetail.capital.join(", "):"N/A"),1)]),v("div",Sa,[v("div",za,[v("div",ja,[p(s,{name:"i-heroicons-users",class:"w-5 h-5 text-white"})]),t[4]||(t[4]=v("h3",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide"}," Population ",-1))]),v("p",qa,D(a.countryDetail.population.toLocaleString()),1)]),Object.keys(a.countryDetail.currencies).length>0?(y(),g("div",$a,[v("div",Oa,[v("div",Ma,[p(s,{name:"i-heroicons-currency-dollar",class:"w-5 h-5 text-white"})]),t[5]||(t[5]=v("h3",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide"}," Currency ",-1))]),v("div",Ea,[(y(!0),g(L,null,S(a.countryDetail.currencies,((a,e)=>(y(),g("span",{key:e,class:"block text-lg sm:text-xl font-semibold text-gray-900 dark:text-white"},D(a.name)+" ("+D(a.symbol)+") ",1)))),128))])])):w("",!0),Object.keys(a.countryDetail.languages).length>0?(y(),g("div",Fa,[v("div",Ba,[v("div",Ia,[p(s,{name:"i-heroicons-language",class:"w-5 h-5 text-white"})]),t[6]||(t[6]=v("h3",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide"}," Languages ",-1))]),v("div",Ra,[(y(!0),g(L,null,S(a.countryDetail.languages,((a,e)=>(y(),g("span",{key:e,class:"inline-block text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mr-3"},D(a),1)))),128))])])):w("",!0)]),v("div",Va,[p(n,{color:"neutral",variant:"soft",size:"lg",icon:"i-heroicons-x-mark",class:"rounded-xl shadow-sm shadow-gray-200/60 dark:shadow-gray-900/40 hover:shadow-md hover:shadow-gray-300/50 dark:hover:shadow-black/30 hover:-translate-y-0.5 transition-all duration-300",onClick:t[0]||(t[0]=e=>a.$emit("clear-selection"))},{default:b((()=>t[7]||(t[7]=[_(" Clear Selection ")]))),_:1,__:[7]})])])):w("",!0)])),_:1})])),_:1})])):w("",!0)])),_:1})}}),Ta={key:0,class:"text-center py-12 sm:py-16"},Na={class:"max-w-md mx-auto"},Pa=d({__name:"EmptyState",props:{selectedCountry:{},isLoading:{type:Boolean},countryOptions:{}},setup:a=>(a,e)=>{const t=l;return!a.selectedCountry&&!a.isLoading&&a.countryOptions.length>0?(y(),g("div",Ta,[v("div",Na,[p(t,{name:"i-heroicons-globe-alt",class:"w-16 h-16 sm:w-20 sm:h-20 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),e[0]||(e[0]=v("h2",{class:"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-white mb-2"}," Select a Country ",-1)),e[1]||(e[1]=v("p",{class:"text-gray-600 dark:text-gray-400"}," Choose a country from the dropdown above to explore its details ",-1))])])):w("",!0)}}),Ha=c("country",(()=>{const a=z([]),e=z(null),t=z(null),r=z(!1),o=z(!1),s=z(null);return{countryList:a,selectedCountry:e,countryDetail:t,isLoading:r,isLoadingDetail:o,errorMessage:s,fetchCountries:async function(){if(!(a.value.length>0)){r.value=!0,s.value=null;try{const e=await fetch("https://restcountries.com/v3.1/all?fields=name,cca2");if(!e.ok)throw new Error("Network error");const t=await e.json();a.value=t.map((a=>({label:a.name.common,value:a.cca2}))).sort(((a,e)=>a.label.localeCompare(e.label)))}catch(e){console.error("Store: Error fetching countries:",e),s.value=e instanceof Error?e.message:"Failed to fetch countries.",a.value=[]}finally{r.value=!1}}},fetchCountryDetail:async function(a){o.value=!0,s.value=null;try{const e=await fetch(`https://restcountries.com/v3.1/alpha/${a}`);if(!e.ok)throw new Error("Failed to fetch country details");const r=(await e.json())[0];t.value={name:r.name.common,code:r.cca2,capital:r.capital||[],population:r.population,currencies:r.currencies||{},languages:r.languages||{},flag:r.flags.svg}}catch(e){console.error("Store: Error fetching country details:",e),s.value=e instanceof Error?e.message:"Failed to fetch country details.",t.value=null}finally{o.value=!1}},clearCountriesCache:function(){a.value=[]}}})),Ua={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300"},Ja={id:"main-content",class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-12"},Ka=I(d({__name:"index",setup(a){const e=Ha(),t=z(""),r=u((()=>e.countryList)),o=u((()=>e.countryDetail)),s=u((()=>e.isLoading)),l=u((()=>e.isLoadingDetail)),n=u((()=>e.errorMessage));function i(){t.value="",e.selectedCountry=null,e.countryDetail=null}async function c(){await e.fetchCountries()}async function d(a){await e.fetchCountryDetail(a)}async function m(){e.clearCountriesCache(),await e.fetchCountries()}function h(a){t.value=a}return F(t,(async a=>{e.selectedCountry=a,a&&await d(a)})),B((async()=>{await c()})),(a,e)=>{const u=T,x=da,b=Aa,f=Pa;return y(),g("div",Ua,[e[1]||(e[1]=v("a",{href:"#main-content",class:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-blue-600 text-white px-4 py-2 rounded-md z-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"}," Skip to main content ",-1)),p(u),v("main",Ja,[p(x,{"country-options":r.value,"selected-country":t.value,"is-loading":s.value,"error-message":n.value,onCountrySelected:h,onRetry:c,onRefresh:m},null,8,["country-options","selected-country","is-loading","error-message"]),p(b,{"selected-country":t.value,"country-detail":o.value,"is-loading-detail":l.value,"error-message":n.value,onRetry:e[0]||(e[0]=()=>d(t.value)),onClearSelection:i},null,8,["selected-country","country-detail","is-loading-detail","error-message"]),p(f,{"selected-country":t.value,"is-loading":s.value,"country-options":r.value},null,8,["selected-country","is-loading","country-options"])])])}}}),[["__scopeId","data-v-cff10ef9"]]);export{Ka as default};
